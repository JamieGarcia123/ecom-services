var y=Object.defineProperty;var f=(r,e,s)=>e in r?y(r,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[e]=s;var h=(r,e,s)=>f(r,typeof e!="symbol"?e+"":e,s);import{w as b,a as c,p as t,L as d}from"./chunk-EF7DTUVF-CXM15GyG.js";import{I as j}from"./ItemCard-1HL66ToB.js";async function x(r){try{const e=typeof window<"u"&&window.location.hostname==="localhost"?"":"/ecom-services",s=await fetch(`${e}/data/${r}.json`);if(!s.ok)throw new Error(`Failed to load ${r}`);return await s.json()}catch(e){return console.error(`Error loading ${r}:`,e),{}}}async function v(r,e){try{return(await fetch(`/api/data/${r}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok}catch(s){return console.error(`Error saving ${r}:`,s),!1}}const n=class n{constructor(){h(this,"data",{services:[],categories:[],providers:[]})}static getInstance(){return n.instance||(n.instance=new n),n.instance}async initialize(){const[e,s,a]=await Promise.all([x("services"),x("categories"),x("providers")]),o=s?s.map(l=>l.name):[];this.data={services:e||[],categories:o,providers:a||[]}}getAllServices(){return this.data.services}getServiceById(e){return this.data.services.find(s=>s.id===e)}getServicesByCategory(e){return this.data.services.filter(s=>s.description.toLowerCase().includes(e.toLowerCase()))}async addService(e){const s={...e,id:Math.max(...this.data.services.map(a=>a.id),0)+1};return this.data.services.push(s),await v("services",this.data.services),s}async updateService(e,s){const a=this.data.services.findIndex(o=>o.id===e);return a===-1?null:(this.data.services[a]={...this.data.services[a],...s},await v("services",this.data.services),this.data.services[a])}async deleteService(e){const s=this.data.services.findIndex(a=>a.id===e);return s===-1?!1:(this.data.services.splice(s,1),await v("services",this.data.services),!0)}getAllProviders(){return this.data.providers}getProviderById(e){return this.data.providers.find(s=>s.id===e)}getAllCategories(){return this.data.categories}};h(n,"instance");let g=n;const m=g.getInstance(),k=b(function(){const[e,s]=c.useState([]),[a,o]=c.useState([]),[l,u]=c.useState(!0);return c.useEffect(()=>{async function i(){try{await m.initialize(),s(m.getAllServices()),o(m.getAllCategories())}catch(p){console.error("Error loading data:",p)}finally{u(!1)}}i()},[]),l?t.jsx("div",{className:"container mx-auto px-4 py-8",children:t.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Loading services..."})]})})}):t.jsx("div",{className:"container mx-auto px-4 py-8",children:t.jsxs("div",{className:"max-w-6xl mx-auto",children:[t.jsxs("div",{className:"text-center mb-12",children:[t.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Our Services"}),t.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Discover our comprehensive range of wellness and healing services. From energy healing to nutritional guidance, we're here to support your journey to better health."})]}),t.jsxs("div",{className:"mb-8",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Filter by Category:"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx(d,{to:"/services",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"All Services"}),a.map(i=>t.jsx(d,{to:`/services?category=${encodeURIComponent(i)}`,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:i},i))]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(i=>t.jsx(d,{to:`/service/${i.id}`,children:t.jsx(j,{item:i})},i.id))}),e.length===0&&t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"text-gray-400 mb-4",children:t.jsx("svg",{className:"mx-auto h-16 w-16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No services available"}),t.jsx("p",{className:"text-gray-500",children:"Check back later for new services."})]}),t.jsx("div",{className:"mt-16 text-center",children:t.jsxs("div",{className:"bg-blue-50 rounded-lg p-8",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Ready to Get Started?"}),t.jsx("p",{className:"text-gray-600 mb-6",children:"Book your first session today and take the first step towards better wellness."}),t.jsx(d,{to:"/login",className:"inline-block bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Book Now"})]})})]})})});export{k as default};
